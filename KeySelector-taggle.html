<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>KeySelector demo</title>
    <link rel="stylesheet" type="text/css" href="node_modules/taggle/assets/css/twilight.css" />
    <link rel="stylesheet" type="text/css" href="node_modules/taggle/assets/css/projects.min.css" />
    <link rel="stylesheet" type="text/css" href="node_modules/taggle/assets/css/taggle.min.css" />
    <script src="node_modules/taggle/dist/taggle.min.js"></script>
    <script src="KeySelector.js"></script>
    <style>
    input:not(.plain) {
        visibility: hidden1;
    }
    </style>
</head>
<body>
Test 1: <input id="test1" class="plain" type="text" />
<br />
Test 2: <input id="test2" class="plain" type="text" />
<br />
Test 3 (Taggle): <div id="test3"></div>


<script>
/*globals KeySelector*/

var inputs = document.querySelectorAll('input.plain');
Array.from(inputs).forEach(function (input) {
    KeySelector.addListeners(input);
});


var input = document.querySelector('#test3');
var taggle = new Taggle('test3');
KeySelector.addListeners(input, function (e, type, newVal, oldVal) {
    // console.log(type + '=' + (type === 'keypress' ? oldVal + newVal : newVal) + '::' + this.value);
    if (type === 'keypress') {
        taggle.removeAll();
        this.value.split('+').forEach(function (key) {
            
            taggle.add(key);
        });
    }
});

</script>
</body>
</html>
